<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link href="/css/bootstrap.css" rel="stylesheet">
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/introjs-ct.css" rel="stylesheet">
<link href="/css/custom-styles.css" rel="stylesheet">

<script src="/js/jquery-latest.js"></script>
<script src="/js/bootstrap.js"></script>
<title>Home Page</title>

<style type="text/css">
.nav-side-menu {
	overflow: auto;
	font-family: verdana;
	font-size: 12px;
	font-weight: 200;
	background-color: #2e353d;
	/* position: fixed; */
	top: 0px;
	width: 300px;
	height: 100%;
	color: #e1ffff;
}

.nav-side-menu .brand {
	background-color: #23282e;
	line-height: 50px;
	display: block;
	text-align: center;
	font-size: 14px;
}

.nav-side-menu .toggle-btn {
	display: none;
}

.nav-side-menu ul, .nav-side-menu li {
	list-style: none;
	padding: 0px;
	margin: 0px;
	line-height: 35px;
	cursor: pointer;
}

.nav-side-menu ul :not(collapsed) .arrow:before, .nav-side-menu li :not(collapsed) .arrow:before
	{
	font-family: FontAwesome;
	content: "\f078";
	display: inline-block;
	padding-left: 10px;
	padding-right: 10px;
	vertical-align: middle;
	float: right;
}

.nav-side-menu ul .active, .nav-side-menu li .active {
	border-left: 3px solid #d19b3d;
	background-color: #4f5b69;
}

.nav-side-menu ul .sub-menu li.active, .nav-side-menu li .sub-menu li.active
	{
	color: #d19b3d;
}

.nav-side-menu ul .sub-menu li.active a, .nav-side-menu li .sub-menu li.active a
	{
	color: #d19b3d;
}

.nav-side-menu ul .sub-menu li, .nav-side-menu li .sub-menu li {
	background-color: #181c20;
	border: none;
	line-height: 28px;
	border-bottom: 1px solid #23282e;
	margin-left: 0px;
}

.nav-side-menu ul .sub-menu li:hover, .nav-side-menu li .sub-menu li:hover
	{
	background-color: #020203;
}

.nav-side-menu ul .sub-menu li:before, .nav-side-menu li .sub-menu li:before
	{
	font-family: FontAwesome;
	content: "\f105";
	display: inline-block;
	padding-left: 10px;
	padding-right: 10px;
	vertical-align: middle;
}

.nav-side-menu li {
	padding-left: 0px;
	border-left: 3px solid #2e353d;
	border-bottom: 1px solid #23282e;
}

.nav-side-menu li a {
	text-decoration: none;
	color: #e1ffff;
}

.nav-side-menu li a i {
	padding-left: 10px;
	width: 20px;
	padding-right: 20px;
}

.nav-side-menu li:hover {
	border-left: 3px solid #d19b3d;
	background-color: #4f5b69;
	-webkit-transition: all 1s ease;
	-moz-transition: all 1s ease;
	-o-transition: all 1s ease;
	-ms-transition: all 1s ease;
	transition: all 1s ease;
}

@media ( max-width : 767px) {
	.nav-side-menu {
		position: relative;
		width: 100%;
		margin-bottom: 10px;
	}
	.nav-side-menu .toggle-btn {
		display: block;
		cursor: pointer;
		position: absolute;
		right: 10px;
		top: 10px;
		z-index: 10 !important;
		padding: 3px;
		background-color: #ffffff;
		color: #000;
		width: 40px;
		text-align: center;
	}
	.brand {
		text-align: left !important;
		font-size: 22px;
		padding-left: 20px;
		line-height: 50px !important;
	}
}

@media ( min-width : 767px) {
	.nav-side-menu .menu-list .menu-content {
		display: block;
	}
}

body {
	margin: 0px;
	padding: 0px;
}

.collapse.in > a {
	color: orange;
}

.padding0 {
	padding: 0;
}
</style>
</head>
<body>
	<%- include ../includes/header %>
	<div class='col-xs-12 padding0'>
		<div class="nav-side-menu">
			<div class="brand">Brand Logo</div>
			<i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>
			<div class="menu-list">
				<ul id="menu-content" class="menu-content collapse out">
					<li><a href="#"> <i class="fa fa-dashboard fa-lg"></i>Dashboard</a></li>
					
					<!-- <li data-toggle="collapse" data-target="#homes" class="collapsed active"><a href="#">
						<i class="fa fa-home fa-lg"></i> Homes <span class="arrow"></span></a></li> -->
				</ul>
			</div>
		</div>
	</div>
	
	<script type="text/javascript">
		var jsonHomesDataArr = <%- JSON.stringify(homesResults) %>;
		var jsonFloorsDataArr = <%- JSON.stringify(floorsResults) %>;
		var jsonRoomsDataArr = <%- JSON.stringify(roomsResults) %>;
		var jsonBoardsDataArr = <%- JSON.stringify(boardsResults) %>;
		var jsonSwitchDataArr = <%- JSON.stringify(swchsResults) %>;
		jsonHomesDataArr.sort(function(a, b) {
			if (a.hasOwnProperty('home')
					&& b.hasOwnProperty('home')) {
				return (a.home).localeCompare(b.home);
			}
		});
		
		
		
		/* if (jsonHomesDataArr.length > 0) {
			for (let i in jsonHomesDataArr) {
				$("#homes").append('<li id=' + jsonHomesDataArr[i]._id + '>' + jsonHomesDataArr[i].home + '</li>')
			}	
		} else {
			$("#homes").append('<li>No Homes are available</li>')
		} */
		
		
		/* $("#menu-content").append('<ul class="sub-menu collapse" id="homes"></ul>');
		if (jsonHomesDataArr.length > 0) {
			for (let i in jsonHomesDataArr) {
				$("#homes").append('<li id=' + jsonHomesDataArr[i]._id + '>' + jsonHomesDataArr[i].home + '</li>')
			}	
		} else {
			$("#homes").append('<li>No Homes are available</li>')
		}
		
		
		for (let i in jsonFloorsDataArr) {
			$("#" + jsonFloorsDataArr[i].home).text(jsonFloorsDataArr[i].floor);
			console.log("#" + jsonFloorsDataArr[i].home);
		} */
		
		/* $("#menu-content").append('<ul class="sub-menu collapse" id="floors"></ul>');
		if (jsonFloorsDataArr.length > 0) {
			for (let i in jsonFloorsDataArr) {
				if ($("#" + jsonFloorsDataArr[i]._id).length == 0) {
					$("#floors").append('<li id=' + jsonFloorsDataArr[i]._id + '></li>');
				}
				$("#" + jsonFloorsDataArr[i]._id).text(jsonFloorsDataArr[i].floor);
			}
		} else {
			$("#floors").append('<li>No Floors are available</li>')
		} */
		
		
		//console.log(jsonFloorsDataArr);
	
	$('#menu-content').append('<li data-toggle="collapse" data-target="#homes" class="collapsed active">' +
								'<a href="#"><i class="fa fa-home fa-lg"></i> Homes <span class="arrow"></span></a>' +
								'</li><ul id="homes" class="sub-menu collapse"></ul>');
	for (let i in jsonHomesDataArr) {
		$('#homes').append('<li data-toggle="collapse" data-target="#' + jsonHomesDataArr[i].home + '" class="collapsed">' +
							'<a href="#"><i class="fa fa-home fa-lg"></i> ' + jsonHomesDataArr[i].home + ' <span class="arrow"></span></a>' +
							'</li><ul id="' + jsonHomesDataArr[i].home + '" class="sub-menu collapse"></ul>');
		for (let j in jsonFloorsDataArr) {
			if (jsonHomesDataArr[i]._id == jsonFloorsDataArr[j].home) {
				$('#' + jsonHomesDataArr[i].home).append('<li data-toggle="collapse" data-target="#' + jsonFloorsDataArr[j].floor + '" class="collapsed">' +
									'<a href="#"><i class="fa fa-home fa-lg"></i> ' + jsonFloorsDataArr[j].floor + ' <span class="arrow"></span></a>' +
									'</li><ul id="' + jsonFloorsDataArr[j].floor + '" class="sub-menu collapse"></ul>');
			}
			for (let k in jsonRoomsDataArr) {
				if (jsonFloorsDataArr[j]._id == jsonRoomsDataArr[k].floor && jsonHomesDataArr[i]._id == jsonRoomsDataArr[k].home) {
					$('#' + jsonFloorsDataArr[j].floor).append('<li data-toggle="collapse" data-target="#' + jsonRoomsDataArr[k].room + '" class="collapsed">' +
										'<a href="#"><i class="fa fa-home fa-lg"></i> ' + jsonRoomsDataArr[k].room + ' <span class="arrow"></span></a>' +
										'</li><ul id="' + jsonRoomsDataArr[k].room + '" class="sub-menu collapse"></ul>');
				}
				for (let l in jsonBoardsDataArr) {
					if (jsonRoomsDataArr[k]._id == jsonBoardsDataArr[l].room && jsonFloorsDataArr[j]._id == jsonBoardsDataArr[l].floor && jsonHomesDataArr[i]._id == jsonBoardsDataArr[l].home) {
						$('#' + jsonRoomsDataArr[k].room).append('<li data-toggle="collapse" data-target="#' + jsonBoardsDataArr[l].board + '" class="collapsed">' +
											'<a href="#"><i class="fa fa-home fa-lg"></i> ' + jsonBoardsDataArr[l].board + ' <span class="arrow"></span></a>' +
											'</li><ul id="' + jsonBoardsDataArr[l].board + '" class="sub-menu collapse"></ul>');
					}
					for (let m in jsonSwitchDataArr) {
						if (jsonBoardsDataArr[l]._id == jsonSwitchDataArr[m].board && jsonRoomsDataArr[k]._id == jsonSwitchDataArr[m].room && jsonFloorsDataArr[j]._id == jsonSwitchDataArr[m].floor && jsonHomesDataArr[i]._id == jsonSwitchDataArr[m].home) {
							$('#' + jsonBoardsDataArr[l].board).append('<li data-toggle="collapse" data-target="#' + jsonSwitchDataArr[m].swch + '" class="collapsed">' +
												'<a href="#"><i class="fa fa-home fa-lg"></i> ' + jsonSwitchDataArr[m].swch + ' <span class="arrow"></span></a>' +
												'</li><ul id="' + jsonSwitchDataArr[m].swch + '" class="sub-menu collapse"></ul>');
						}
					}
					if ($('#' + jsonBoardsDataArr[l].board + ' > li').length == 0) {
						$('#' + jsonBoardsDataArr[l].board).append('<li><a href="#"> <i class="fa fa-home fa-lg"></i>No Switches are available for ' + jsonBoardsDataArr[l].board + '</a></li>');
					}
				}
				if ($('#' + jsonRoomsDataArr[k].room + ' > li').length == 0) {
					$('#' + jsonRoomsDataArr[k].room).append('<li><a href="#"> <i class="fa fa-home fa-lg"></i>No Boards are available for ' + jsonRoomsDataArr[k].room + '</a></li>');
				}
			}
			if ($('#' + jsonFloorsDataArr[j].floor + ' > li').length == 0) {
				$('#' + jsonFloorsDataArr[j].floor).append('<li><a href="#"> <i class="fa fa-home fa-lg"></i>No Rooms are available for ' + jsonFloorsDataArr[j].floor + '</a></li>');
			}
		}
		if ($('#' + jsonHomesDataArr[i].home + ' > li').length == 0) {
			$('#' + jsonHomesDataArr[i].home).append('<li><a href="#"> <i class="fa fa-home fa-lg"></i>No Floors are available for ' + jsonHomesDataArr[i].home + '</a></li>');
		}
	}
	if ($('#homes > li').length == 0) {
		$('#homes').append('<li><a href="#"> <i class="fa fa-home fa-lg"></i>No Homes are available for this project!</a></li>');
	}
	</script>
	
	
	<!-- <div class='col-xs-12'>
		<div class="nav-side-menu">
			<div class="brand">Brand Logo</div>
			<i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse"
				data-target="#menu-content"></i>

			<div class="menu-list">
				<ul id="menu-content" class="menu-content collapse out">
					<li><a href="#"> <i class="fa fa-dashboard fa-lg"></i>
							Dashboard
					</a></li>
					<li data-toggle="collapse" data-target="#homes"
						class="collapsed active"><a href="#"><i
							class="fa fa-home fa-lg"></i> Homes <span class="arrow"></span></a></li>
					<ul class="sub-menu collapse" id="homes">
						<li data-toggle="collapse" data-target="#home1" class="collapsed">
							<a href="#"><i class="fa fa-home fa-lg"></i> Home1 <span
								class="arrow"></span></a>
						</li>
						<ul class="sub-menu collapse" id="home1">
							<li data-toggle="collapse" data-target="#floor1" class="collapsed">
								<a href="#"><i class="fa fa-home fa-lg"></i> Floor1 <span
									class="arrow"></span></a>
							</li>
							<ul class="sub-menu collapse" id="floor1">
								<li data-toggle="collapse" data-target="#room1" class="collapsed">
									<a href="#"><i class="fa fa-bed fa-lg"></i> Room1 <span
										class="arrow"></span></a>
								</li>
								<ul class="sub-menu collapse" id="room1">
									<li>Board 1</li>
									<li>Board 2</li>
									<li>Board 3</li>
								</ul>
								
								<li><i class="fa fa-bed fa-lg"></i> Room2</li>
							</ul>
							
							<li>Floor 2</li>
							<li>Floor 3</li>
						</ul>
						
						<li data-toggle="collapse" data-target="#home2" class="collapsed">
							<a href="#"><i class="fa fa-home fa-lg"></i> Home2 <span
								class="arrow"></span></a>
						</li>
						
						<ul class="sub-menu collapse" id="home2">
							<li>Floor 1</li>
							<li>Floor 2</li>
							<li>Floor 3</li>
						</ul>
						
						<li data-toggle="collapse" data-target="#home3" class="collapsed">
							<a href="#"><i class="fa fa-home fa-lg"></i> Home3 <span
								class="arrow"></span></a>
						</li>
						<ul class="sub-menu collapse" id="home3">
							<li>Floor 1</li>
							<li>Floor 2</li>
							<li>Floor 3</li>
						</ul>
					</ul>
				</ul>
			</div>
		</div>
	</div> -->
</body>
</html>
